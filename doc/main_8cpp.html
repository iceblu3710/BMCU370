<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BMCU370 Firmware: src/main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BMCU370 Firmware
   </div>
   <div id="projectbrief">Modified BMCU-C 370 Hall firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('main_8cpp.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_hardware_8h_source.html">Hardware.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_control_logic_8h_source.html">ControlLogic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_command_router_8h_source.html">CommandRouter.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp__incl.png" border="0" usemap="#asrc_2main_8cpp" loading="lazy" alt=""/></div>
<map name="asrc_2main_8cpp" id="asrc_2main_8cpp">
<area shape="rect" title=" " alt="" coords="193,5,289,32"/>
<area shape="rect" title=" " alt="" coords="5,155,82,181"/>
<area shape="poly" title=" " alt="" coords="205,35,165,55,121,82,89,112,63,143,59,141,85,109,118,78,162,50,209,31"/>
<area shape="rect" href="_hardware_8h.html" title=" " alt="" coords="131,80,220,107"/>
<area shape="poly" title=" " alt="" coords="228,35,199,70,195,67,231,30"/>
<area shape="rect" href="_control_logic_8h.html" title=" " alt="" coords="270,80,375,107"/>
<area shape="poly" title=" " alt="" coords="255,30,300,69,294,70,255,35"/>
<area shape="rect" href="_command_router_8h.html" title=" " alt="" coords="538,229,669,256"/>
<area shape="poly" title=" " alt="" coords="278,30,332,50,389,78,445,113,498,151,581,219,576,219,495,155,442,117,386,82,330,55,279,35"/>
<area shape="poly" title=" " alt="" coords="151,109,81,149,78,145,154,105"/>
<area shape="rect" title=" " alt="" coords="301,379,365,405"/>
<area shape="poly" title=" " alt="" coords="184,105,322,364,316,365,180,109"/>
<area shape="rect" title=" " alt="" coords="106,155,194,181"/>
<area shape="poly" title=" " alt="" coords="172,105,162,141,157,139,170,110"/>
<area shape="poly" title=" " alt="" coords="320,105,310,155,308,213,312,271,329,365,324,363,307,272,302,213,305,154,317,109"/>
<area shape="rect" href="_bambu_bus_protocol_8h.html" title=" " alt="" coords="370,229,514,256"/>
<area shape="poly" title=" " alt="" coords="355,104,391,124,422,153,436,183,443,215,438,213,431,185,417,156,387,128,355,110"/>
<area shape="rect" href="_unit_state_8h.html" title=" " alt="" coords="320,155,407,181"/>
<area shape="poly" title=" " alt="" coords="330,105,352,142,346,141,329,110"/>
<area shape="poly" title=" " alt="" coords="435,256,353,368,349,364,430,257"/>
<area shape="rect" title=" " alt="" coords="421,304,485,331"/>
<area shape="poly" title=" " alt="" coords="446,254,451,290,446,287,442,259"/>
<area shape="rect" href="_command_types_8h.html" title=" " alt="" coords="509,304,636,331"/>
<area shape="poly" title=" " alt="" coords="465,254,539,296,534,296,464,259"/>
<area shape="poly" title=" " alt="" coords="534,331,381,379,379,374,528,331"/>
<area shape="poly" title=" " alt="" coords="364,181,339,365,334,362,359,183"/>
<area shape="poly" title=" " alt="" coords="378,179,420,219,415,219,377,184"/>
<area shape="poly" title=" " alt="" coords="600,255,586,292,582,288,596,258"/>
</map>
</div>
</div>
<p><a href="main_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d" id="r_a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arduino Setup Function.  <br /></td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f" id="r_afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arduino Main Loop.  <br /></td></tr>
</table>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="afe461d27b9c48d5921c00d521181f12f" name="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&#160;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arduino Main Loop. </p>
<p>Continuously runs Command Routing and Control Logic. </p>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00040">40</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   41</span>{</div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">while</span> (1)</div>
<div class="line"><span class="lineno">   43</span>    {</div>
<div class="line"><span class="lineno">   44</span>        <span class="comment">// Process Communications</span></div>
<div class="line"><span class="lineno">   45</span>        <a class="code hl_function" href="namespace_command_router.html#a96ff3718682e9322a64815a3d41d001b">CommandRouter::Run</a>();</div>
<div class="line"><span class="lineno">   46</span>        </div>
<div class="line"><span class="lineno">   47</span>        <span class="comment">// Run Control Logic (Motors, State Machine)</span></div>
<div class="line"><span class="lineno">   48</span>        <a class="code hl_function" href="namespace_control_logic.html#adc8c269923e0c76c6d104a005833a7f9">ControlLogic::Run</a>();</div>
<div class="line"><span class="lineno">   49</span>    }</div>
<div class="line"><span class="lineno">   50</span>}</div>
<div class="ttc" id="anamespace_command_router_html_a96ff3718682e9322a64815a3d41d001b"><div class="ttname"><a href="namespace_command_router.html#a96ff3718682e9322a64815a3d41d001b">CommandRouter::Run</a></div><div class="ttdeci">void Run()</div><div class="ttdoc">Main execution loop for the Router.</div><div class="ttdef"><b>Definition</b> <a href="_command_router_8cpp_source.html#l00180">CommandRouter.cpp:180</a></div></div>
<div class="ttc" id="anamespace_control_logic_html_adc8c269923e0c76c6d104a005833a7f9"><div class="ttname"><a href="namespace_control_logic.html#adc8c269923e0c76c6d104a005833a7f9">ControlLogic::Run</a></div><div class="ttdeci">void Run()</div><div class="ttdoc">Main Control Loop.</div><div class="ttdef"><b>Definition</b> <a href="_control_logic_8cpp_source.html#l00792">ControlLogic.cpp:792</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_command_router_8cpp_source.html#l00180">CommandRouter::Run()</a>, and <a class="el" href="_control_logic_8cpp_source.html#l00792">ControlLogic::Run()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_adafruit___neo_pixel_8cpp_source.html#l00390">Adafruit_NeoPixel::show()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp_afe461d27b9c48d5921c00d521181f12f_cgraph.png" border="0" usemap="#amain_8cpp_afe461d27b9c48d5921c00d521181f12f_cgraph" loading="lazy" alt=""/></div>
<map name="amain_8cpp_afe461d27b9c48d5921c00d521181f12f_cgraph" id="amain_8cpp_afe461d27b9c48d5921c00d521181f12f_cgraph">
<area shape="rect" title="Arduino Main Loop." alt="" coords="5,846,51,872"/>
<area shape="rect" href="namespace_command_router.html#a96ff3718682e9322a64815a3d41d001b" title="Main execution loop for the Router." alt="" coords="99,643,251,670"/>
<area shape="poly" title=" " alt="" coords="37,844,155,680,155,685,42,846"/>
<area shape="rect" href="namespace_control_logic.html#adc8c269923e0c76c6d104a005833a7f9" title="Main Control Loop." alt="" coords="352,1048,478,1075"/>
<area shape="poly" title=" " alt="" coords="52,868,375,1039,372,1043,51,873"/>
<area shape="rect" href="namespace_hardware.html#ad269fd29299dd87118b408e4551f4d2d" title="Millisecond Delay." alt="" coords="345,475,484,502"/>
<area shape="poly" title=" " alt="" coords="182,641,225,578,258,542,298,511,332,498,328,502,300,516,262,546,229,581,186,644"/>
<area shape="rect" href="namespace_control_logic.html#a300e5b18ebf53c086955bf02dfe16faa" title="Get current Boot Mode." alt="" coords="324,526,506,552"/>
<area shape="poly" title=" " alt="" coords="188,641,235,601,265,580,298,562,318,556,315,559,300,567,268,585,238,606,193,644"/>
<area shape="rect" href="namespace_hardware.html#a8ea28b07408691bc126683a81aa220f3" title="Get System Time in Milliseconds." alt="" coords="1154,795,1289,822"/>
<area shape="poly" title=" " alt="" coords="236,668,299,679,417,694,517,701,688,706,771,709,859,716,958,729,1075,752,1128,768,1178,789,1173,789,1126,773,1073,758,957,735,858,721,771,715,688,712,517,707,416,699,299,684,238,673"/>
<area shape="rect" href="class_bambu_bus_protocol.html#addece07a1980f5f561e151fd4a09b9ea" title="Map internal BambuBus package types to a unified command type." alt="" coords="299,643,530,670"/>
<area shape="poly" title=" " alt="" coords="250,654,286,655,281,658,253,659"/>
<area shape="rect" href="class_bambu_bus_protocol.html#a81deddd553eeb25fa96580079d7c9bd0" title="Identify the type of BambuBus packet." alt="" coords="322,576,507,619"/>
<area shape="poly" title=" " alt="" coords="231,640,312,621,308,625,234,645"/>
<area shape="rect" href="namespace_command_router.html#a329f0a7e2f53debf5c7cb5f47579151b" title="Route an incoming command to its specific handler." alt="" coords="333,744,496,771"/>
<area shape="poly" title=" " alt="" coords="196,668,244,696,300,723,341,739,336,741,298,728,242,700,198,673"/>
<area shape="rect" href="namespace_control_logic.html#a9716be5fe9da72481bee41a80681d8e5" title="Update connectivity status (Online/Offline)." alt="" coords="581,744,799,771"/>
<area shape="poly" title=" " alt="" coords="184,668,204,695,229,726,262,757,300,781,343,795,388,803,434,805,479,803,565,791,637,775,632,777,566,796,480,809,434,810,387,808,342,800,298,786,258,762,225,730,199,698,184,673"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#afe96c8a3898aa7a50f68ab6d726860c3" title="Main Execution Loop." alt="" coords="358,354,472,380"/>
<area shape="poly" title=" " alt="" coords="180,642,225,562,259,511,297,461,339,421,383,388,380,392,342,425,301,465,263,514,230,565,185,644"/>
<area shape="rect" href="time64_8cpp.html#a146d483f58902ba0184ce16f728edfb0" title="Get 64&#45;bit System Time in Milliseconds." alt="" coords="1415,795,1501,822"/>
<area shape="poly" title=" " alt="" coords="1289,806,1402,808,1397,809,1289,811"/>
<area shape="rect" href="class_bambu_bus_protocol.html#a8b674c03ab157fa7e70fc2f6e271d539" title="Verify the CRC16 for a complete packet." alt="" coords="578,576,802,603"/>
<area shape="poly" title=" " alt="" coords="506,593,565,592,560,595,508,597"/>
<area shape="rect" href="class_bambu_bus_protocol.html#ad0e11ad5c710644e9f1ee2fb4f15a3b9" title="Extract data from a &quot;Long Packet&quot; (0x05 type)." alt="" coords="860,560,1064,603"/>
<area shape="poly" title=" " alt="" coords="505,573,578,562,647,557,717,557,847,567,842,569,716,563,647,563,579,567,508,578"/>
<area shape="rect" href="namespace_command_router.html#a1d2e53549b25a63274ad073b375e5f21" title="wrapper to handle Long Packets by parsing and dispatching." alt="" coords="591,627,789,670"/>
<area shape="poly" title=" " alt="" coords="449,742,622,674,618,678,452,746"/>
<area shape="poly" title=" " alt="" coords="496,755,568,757,563,759,498,760"/>
<area shape="poly" title=" " alt="" coords="779,624,859,606,855,609,781,629"/>
<area shape="rect" href="namespace_control_logic.html#a1ff0bcee8062346fb963e4dd845c8bdf" title="Handler/Dispatcher for Long Packets." alt="" coords="873,627,1051,670"/>
<area shape="poly" title=" " alt="" coords="788,646,859,647,854,649,790,651"/>
<area shape="poly" title=" " alt="" coords="799,759,931,767,1074,780,1141,792,1135,793,1074,786,931,772,800,764"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a6089e6db2e7edddf19fdf095b9826c88" title="Parse and Dispatch a JSON Packet." alt="" coords="600,282,780,308"/>
<area shape="poly" title=" " alt="" coords="467,351,623,311,619,315,470,355"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#afeb304003d4b85010afd5e183e1bbf16" title="Handler for GET_FILAMENT_INFO command." alt="" coords="850,155,1074,182"/>
<area shape="poly" title=" " alt="" coords="706,280,767,236,807,212,849,191,871,185,867,188,851,196,809,217,770,240,710,283"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#ad0e99d2fdcfd1c0690f850816ac1f67c" title="Helper to send an Error response." alt="" coords="1147,256,1295,283"/>
<area shape="poly" title=" " alt="" coords="779,288,1133,272,1129,276,781,293"/>
<area shape="rect" href="namespace_hardware.html#ad3ec7cad074d6d73508844a06a7bea50" title="Send a buffer via UART1." alt="" coords="1596,206,1754,232"/>
<area shape="poly" title=" " alt="" coords="693,280,709,233,739,166,760,130,785,96,815,65,848,39,885,20,918,9,949,5,979,5,1043,12,1122,15,1246,7,1345,4,1392,10,1440,22,1492,44,1549,76,1584,102,1614,133,1660,193,1655,192,1610,136,1580,106,1546,80,1489,49,1438,28,1391,15,1345,10,1246,12,1122,20,1043,17,979,11,950,10,919,15,887,25,851,44,818,69,789,99,765,133,744,168,714,235,697,283"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#ae13dcd8cc2528c12d0a241046fcc304e" title="Handler for GET_SENSORS command." alt="" coords="862,104,1062,131"/>
<area shape="poly" title=" " alt="" coords="699,280,757,212,800,174,848,141,865,135,861,139,851,145,803,178,761,216,704,283"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a12cef4b97fbfa7cfb7bdb1540e626ae9" title="Handler for MOVE command." alt="" coords="880,459,1044,486"/>
<area shape="poly" title=" " alt="" coords="702,306,761,374,803,412,851,445,868,454,863,455,848,449,800,417,757,378,701,312"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a81f1646e6adb42482d4109a33b9bb9c5" title="Handler for PING command." alt="" coords="883,510,1040,536"/>
<area shape="poly" title=" " alt="" coords="698,306,721,346,754,397,798,451,823,475,851,495,871,507,866,508,848,500,820,479,794,454,749,400,716,349,698,312"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a685b6d688593b458b5edafda4adfd4d4" title="Handler for SELECT_LANE command." alt="" coords="864,358,1060,384"/>
<area shape="poly" title=" " alt="" coords="731,306,850,343,883,353,878,354,849,348,732,312"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a31ef4dae129916b85fdd8d1612553c77" title="Handler for SET_AUTO_FEED command." alt="" coords="858,307,1066,334"/>
<area shape="poly" title=" " alt="" coords="779,301,845,308,840,310,781,306"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a76547f35e246989843f1870c760ea514" title="Handler for SET_FILAMENT_INFO command." alt="" coords="850,206,1074,232"/>
<area shape="poly" title=" " alt="" coords="739,279,899,235,895,239,742,283"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a8f239072c1896e64e9f6075edaaea515" title="Handler for STATUS command." alt="" coords="877,54,1046,80"/>
<area shape="poly" title=" " alt="" coords="696,280,716,242,749,190,794,136,820,111,848,90,865,83,861,87,851,95,823,115,798,139,754,193,721,244,700,282"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a5bc1dda1e0b24dccb6fdc1c475930c88" title="Handler for STOP command." alt="" coords="883,408,1041,435"/>
<area shape="poly" title=" " alt="" coords="708,306,770,350,809,374,851,394,872,403,866,404,849,399,807,378,767,354,709,311"/>
<area shape="rect" href="class_unit_state.html#a221a5d98d4e870c593e5bd5ee6621c4c" title="Get the configuration specific to a filament index." alt="" coords="1144,155,1299,182"/>
<area shape="poly" title=" " alt="" coords="1074,166,1131,167,1126,170,1076,171"/>
<area shape="poly" title=" " alt="" coords="1045,180,1075,191,1091,202,1100,214,1109,225,1123,235,1152,250,1147,251,1121,240,1106,229,1096,217,1087,206,1073,196,1047,185"/>
<area shape="poly" title=" " alt="" coords="1039,180,1122,191,1370,209,1582,217,1577,219,1370,214,1122,196,1040,185"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a9ec392d53485800126189969c2c4981a" title="Serialize and send a JSON response." alt="" coords="1368,256,1548,283"/>
<area shape="poly" title=" " alt="" coords="1295,267,1355,269,1350,271,1297,272"/>
<area shape="poly" title=" " alt="" coords="1517,253,1602,235,1597,238,1519,258"/>
<area shape="rect" href="namespace_hardware.html#a0ada30189b8e1d1dbec145140849b778" title="Microsecond Delay." alt="" coords="2035,206,2174,232"/>
<area shape="poly" title=" " alt="" coords="1754,216,2022,218,2017,220,1755,222"/>
<area shape="rect" href="namespace_hardware.html#aaaf02ef3df5811e2ba28dd009eadfaae" title="Send a single byte blocking." alt="" coords="1802,231,1987,258"/>
<area shape="poly" title=" " alt="" coords="1754,226,1789,231,1784,233,1755,231"/>
<area shape="poly" title=" " alt="" coords="1987,231,2023,228,2018,230,1988,236"/>
<area shape="poly" title=" " alt="" coords="1061,105,1123,104,1189,108,1257,119,1321,141,1358,162,1391,188,1441,244,1435,244,1387,192,1355,166,1319,146,1255,125,1188,113,1122,109,1064,110"/>
<area shape="rect" href="namespace_control_logic.html#a4428a845041ff986ccbf2555a62d0656" title="Get a bitmask of sensor states." alt="" coords="1124,54,1319,80"/>
<area shape="poly" title=" " alt="" coords="1033,101,1137,83,1132,85,1035,106"/>
<area shape="poly" title=" " alt="" coords="1042,462,1072,445,1087,427,1094,409,1096,371,1098,332,1105,312,1120,293,1135,285,1131,288,1124,297,1110,315,1103,333,1101,371,1099,410,1091,430,1076,449,1045,467"/>
<area shape="rect" href="class_unit_state.html#a4833e917e0069069c7f455a24e28a516" title="Get the currently active filament index." alt="" coords="1122,475,1320,518"/>
<area shape="poly" title=" " alt="" coords="1043,477,1109,485,1104,487,1045,483"/>
<area shape="rect" href="namespace_control_logic.html#a484eadc314267f8bc9aa0f025c1137d9" title="Manually move an axis (Klipper Primitive)." alt="" coords="1141,542,1301,568"/>
<area shape="poly" title=" " alt="" coords="1040,484,1075,495,1100,511,1123,527,1142,536,1136,537,1121,532,1097,516,1073,500,1041,489"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a1d7d7986d99cb52ab4feb4826ffc4428" title="Helper to send a Success (OK) response." alt="" coords="1152,358,1290,384"/>
<area shape="poly" title=" " alt="" coords="1043,458,1073,445,1087,433,1096,420,1105,407,1121,394,1140,387,1136,390,1123,399,1109,411,1100,423,1091,437,1075,449,1045,462"/>
<area shape="poly" title=" " alt="" coords="1285,355,1319,343,1374,317,1425,290,1421,293,1377,322,1321,348,1287,360"/>
<area shape="poly" title=" " alt="" coords="1040,528,1060,535,1076,546,1090,561,1099,576,1107,606,1111,638,1124,674,1162,733,1200,783,1195,782,1158,736,1120,676,1106,639,1102,607,1094,578,1086,565,1072,550,1057,540,1041,533"/>
<area shape="poly" title=" " alt="" coords="1040,530,1076,546,1093,568,1100,590,1106,612,1113,621,1123,629,1176,654,1200,661,1223,664,1245,662,1269,656,1319,629,1356,596,1386,555,1409,509,1427,462,1447,369,1455,301,1457,296,1452,370,1432,463,1414,511,1391,558,1360,599,1322,633,1270,661,1246,667,1223,669,1199,666,1174,659,1121,633,1109,624,1101,614,1094,592,1088,570,1072,551,1041,535"/>
<area shape="rect" href="class_unit_state.html#a745286b33e7a2805f9045e22fc0a49ac" title=" " alt="" coords="1147,592,1295,619"/>
<area shape="poly" title=" " alt="" coords="1040,534,1075,546,1100,562,1123,578,1142,587,1136,587,1121,583,1097,567,1073,551,1041,540"/>
<area shape="poly" title=" " alt="" coords="1047,355,1073,343,1087,332,1096,319,1105,306,1121,293,1135,288,1131,291,1123,297,1109,309,1100,322,1091,335,1075,348,1049,359"/>
<area shape="poly" title=" " alt="" coords="1060,369,1139,370,1134,372,1061,374"/>
<area shape="rect" href="class_unit_state.html#a07223951eecac60709753ce07290477d" title="Set the currently active filament index." alt="" coords="1122,408,1320,451"/>
<area shape="poly" title=" " alt="" coords="1023,382,1112,404,1107,405,1025,388"/>
<area shape="poly" title=" " alt="" coords="1033,304,1137,285,1132,288,1035,309"/>
<area shape="poly" title=" " alt="" coords="1033,332,1140,354,1134,356,1035,337"/>
<area shape="rect" href="namespace_control_logic.html#a9db355302a1c9d608e6dd5341151336e" title="Enable/Disable Auto&#45;Feed (Pressure Control) for a lane." alt="" coords="1132,307,1310,334"/>
<area shape="poly" title=" " alt="" coords="1065,318,1119,319,1114,321,1067,323"/>
<area shape="poly" title=" " alt="" coords="1033,203,1137,184,1132,187,1035,207"/>
<area shape="poly" title=" " alt="" coords="1033,230,1137,252,1132,254,1035,236"/>
<area shape="poly" title=" " alt="" coords="986,230,1030,258,1076,293,1099,320,1108,332,1123,343,1141,353,1135,354,1121,348,1105,336,1095,324,1072,297,1027,262,987,236"/>
<area shape="poly" title=" " alt="" coords="1035,78,1075,90,1134,116,1187,146,1182,147,1132,121,1073,95,1037,84"/>
<area shape="poly" title=" " alt="" coords="1017,51,1080,39,1156,30,1239,28,1280,32,1321,39,1369,53,1417,71,1508,113,1585,157,1644,196,1639,197,1583,162,1505,118,1415,75,1367,58,1320,44,1280,37,1239,33,1156,35,1081,44,1019,55"/>
<area shape="poly" title=" " alt="" coords="1046,65,1110,66,1106,68,1048,70"/>
<area shape="poly" title=" " alt="" coords="1033,405,1139,386,1135,389,1035,410"/>
<area shape="poly" title=" " alt="" coords="478,1051,617,1032,790,1004,956,970,1023,952,1073,933,1110,911,1144,884,1196,835,1201,832,1148,888,1113,915,1075,937,1025,957,957,975,791,1009,617,1037,479,1057"/>
<area shape="rect" href="namespace_control_logic.html#aa3d38299372c0822e90d6e649344e8ad" title="Update Odometer and Speed from AS5600 sensors." alt="" coords="616,1267,764,1310"/>
<area shape="poly" title=" " alt="" coords="424,1073,448,1110,482,1158,527,1209,580,1253,604,1268,599,1267,577,1257,523,1213,478,1161,443,1113,423,1078"/>
<area shape="rect" href="namespace_hardware.html#a44347f62b4ee1789ecfed67b195572e4" title="Set Color of a specific LED." alt="" coords="877,1064,1046,1091"/>
<area shape="poly" title=" " alt="" coords="478,1061,863,1073,859,1076,479,1066"/>
<area shape="rect" href="namespace_hardware.html#a365d946e0cf0fe8cfc8dbcb25cfbdad9" title="Update LED Hardware." alt="" coords="614,1166,766,1192"/>
<area shape="poly" title=" " alt="" coords="436,1073,499,1112,579,1151,603,1161,597,1161,577,1156,497,1117,436,1078"/>
<area shape="rect" href="namespace_control_logic.html#ab1b5b19d84cdbba6ef3ad97fba14ce13" title="Read Analog Sensors and Update State." alt="" coords="608,830,772,872"/>
<area shape="poly" title=" " alt="" coords="428,1046,491,988,577,917,639,879,635,882,580,921,494,992,432,1050"/>
<area shape="rect" href="namespace_control_logic.html#ac2d890c891494072159ebc2b30490197" title="State Machine for BambuBus Logic." alt="" coords="622,931,758,974"/>
<area shape="poly" title=" " alt="" coords="446,1046,577,990,615,978,610,981,579,995,448,1050"/>
<area shape="rect" href="namespace_control_logic.html#acb78560c64e5ea050853ab319a03f14e" title="Check if pullback is required (Smart Pullback Logic)." alt="" coords="607,1099,773,1142"/>
<area shape="poly" title=" " alt="" coords="478,1072,594,1099,589,1100,478,1078"/>
<area shape="rect" href="namespace_control_logic.html#a175e5057d122e1fee05a99bb0e40bbf3" title="Commit settings to Flash memory." alt="" coords="600,1216,780,1243"/>
<area shape="poly" title=" " alt="" coords="428,1073,489,1136,532,1172,580,1202,595,1211,590,1211,577,1207,529,1176,486,1140,427,1078"/>
<area shape="rect" href="_hardware_8cpp.html#a766f13b53e03456789fd4fe8e009e157" title=" " alt="" coords="1182,1123,1261,1150"/>
<area shape="poly" title=" " alt="" coords="1024,1089,1169,1124,1164,1124,1024,1094"/>
<area shape="poly" title=" " alt="" coords="766,1170,1169,1140,1164,1141,766,1176"/>
<area shape="rect" href="namespace_hardware.html#aa54da804a3d4c6d89ba5d7a2931fc463" title="Get filtered ADC voltage values." alt="" coords="871,795,1052,822"/>
<area shape="poly" title=" " alt="" coords="771,836,860,824,855,826,773,841"/>
<area shape="poly" title=" " alt="" coords="735,928,789,904,849,882,979,851,1141,822,1136,824,980,857,850,887,791,909,737,933"/>
<area shape="poly" title=" " alt="" coords="758,964,830,976,920,987,1022,993,1133,991,1246,977,1301,964,1355,948,1408,927,1457,901,1504,869,1546,832,1561,813,1574,788,1599,721,1619,640,1636,550,1658,374,1670,250,1673,246,1664,375,1641,551,1624,641,1604,723,1579,790,1565,816,1550,836,1507,873,1460,905,1410,932,1357,953,1303,969,1246,982,1133,996,1022,998,919,992,829,982,758,970"/>
<area shape="poly" title=" " alt="" coords="739,972,920,1057,915,1058,738,977"/>
<area shape="rect" href="namespace_control_logic.html#a4ddc46100d9f991cb0d171e62707ee7c" title=" " alt="" coords="879,896,1045,923"/>
<area shape="poly" title=" " alt="" coords="757,939,866,924,861,926,759,944"/>
<area shape="poly" title=" " alt="" coords="1017,893,1073,875,1178,830,1183,828,1075,880,1019,898"/>
<area shape="poly" title=" " alt="" coords="773,1105,865,1093,859,1094,774,1110"/>
<area shape="rect" href="_flash__saves_8cpp.html#ae5951341b70b0da0d768d418bfcb76ce" title="Save a buffer to Flash Memory." alt="" coords="914,1216,1010,1243"/>
<area shape="poly" title=" " alt="" coords="780,1227,902,1230,896,1230,781,1232"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp_afe461d27b9c48d5921c00d521181f12f_icgraph.png" border="0" usemap="#amain_8cpp_afe461d27b9c48d5921c00d521181f12f_icgraph" loading="lazy" alt=""/></div>
<map name="amain_8cpp_afe461d27b9c48d5921c00d521181f12f_icgraph" id="amain_8cpp_afe461d27b9c48d5921c00d521181f12f_icgraph">
<area shape="rect" title="Arduino Main Loop." alt="" coords="401,13,446,40"/>
<area shape="rect" href="class_adafruit___neo_pixel.html#a4bcda7a15591065570d3598cbf970be7" title="将RAM中的像素数据传输到NeoPixels。" alt="" coords="188,13,353,40"/>
<area shape="poly" title=" " alt="" coords="383,27,353,29,353,24,388,27"/>
<area shape="rect" href="class_adafruit___neo_pixel.html#a61b1bd003a291520a367ab1712d6265c" title="释放Adafruit_NeoPixel对象，将数据引脚恢复为输入模式。" alt="" coords="5,5,140,48"/>
<area shape="poly" title=" " alt="" coords="170,27,140,29,140,24,175,26"/>
</map>
</div>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d" name="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arduino Setup Function. </p>
<p>Initializes <a class="el" href="namespace_hardware.html">Hardware</a>, <a class="el" href="namespace_control_logic.html">ControlLogic</a>, detects Boot Mode (Klipper vs Bus), and sets up Communication Routing. </p>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00013">13</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   14</span>{</div>
<div class="line"><span class="lineno">   15</span>    <span class="comment">// Initialize Base Hardware (GPIO, ADC, LED, Timers) - No UART yet</span></div>
<div class="line"><span class="lineno">   16</span>    <a class="code hl_function" href="namespace_hardware.html#a25837768e4f1568435bc6d889be37ba5">Hardware::InitBase</a>();</div>
<div class="line"><span class="lineno">   17</span>    </div>
<div class="line"><span class="lineno">   18</span>    <span class="comment">// Initialize Business Logic (Loads settings)</span></div>
<div class="line"><span class="lineno">   19</span>    <a class="code hl_function" href="namespace_control_logic.html#a1da226a05b7a8c46e16a840900265c03">ControlLogic::Init</a>();</div>
<div class="line"><span class="lineno">   20</span>    </div>
<div class="line"><span class="lineno">   21</span>    <span class="comment">// Check for Boot Mode Switch (Pressure Sensors)</span></div>
<div class="line"><span class="lineno">   22</span>    <a class="code hl_enumeration" href="namespace_control_logic.html#aa23e295fa5022b6569547cf94f091070">ControlLogic::BootMode</a> mode = <a class="code hl_function" href="namespace_control_logic.html#a0c732b28cf691fb77359c80a0c000665">ControlLogic::InitBootCheck</a>();</div>
<div class="line"><span class="lineno">   23</span>    <span class="keywordtype">bool</span> isKlipper = (mode == <a class="code hl_enumvalue" href="namespace_control_logic.html#aa23e295fa5022b6569547cf94f091070a6de97d301a2cd910140aca79b2b50a55">ControlLogic::BootMode::Klipper</a>);</div>
<div class="line"><span class="lineno">   24</span>    </div>
<div class="line"><span class="lineno">   25</span>    <span class="comment">// Initialize Communications with specific mode</span></div>
<div class="line"><span class="lineno">   26</span>    <a class="code hl_function" href="namespace_hardware.html#a29ba54eb55c1b296fa35c18043ce9cb5">Hardware::InitUART</a>(isKlipper);</div>
<div class="line"><span class="lineno">   27</span>    <a class="code hl_function" href="namespace_command_router.html#a652cfc164ac7a2a2c016da37f341c42e">CommandRouter::Init</a>(isKlipper);</div>
<div class="line"><span class="lineno">   28</span>    </div>
<div class="line"><span class="lineno">   29</span>    <span class="comment">// Initial LED State</span></div>
<div class="line"><span class="lineno">   30</span>    <a class="code hl_function" href="namespace_hardware.html#aca1ef8aa807fb9291ad5d727697f427a">Hardware::LED_SetBrightness</a>(35); <span class="comment">// Default brightness</span></div>
<div class="line"><span class="lineno">   31</span>    <a class="code hl_function" href="namespace_hardware.html#a365d946e0cf0fe8cfc8dbcb25cfbdad9">Hardware::LED_Show</a>();</div>
<div class="line"><span class="lineno">   32</span>}</div>
<div class="ttc" id="anamespace_command_router_html_a652cfc164ac7a2a2c016da37f341c42e"><div class="ttname"><a href="namespace_command_router.html#a652cfc164ac7a2a2c016da37f341c42e">CommandRouter::Init</a></div><div class="ttdeci">void Init(bool isKlipper)</div><div class="ttdoc">Initialize the Command Router and CLI subsystems.</div><div class="ttdef"><b>Definition</b> <a href="_command_router_8cpp_source.html#l00076">CommandRouter.cpp:76</a></div></div>
<div class="ttc" id="anamespace_control_logic_html_a0c732b28cf691fb77359c80a0c000665"><div class="ttname"><a href="namespace_control_logic.html#a0c732b28cf691fb77359c80a0c000665">ControlLogic::InitBootCheck</a></div><div class="ttdeci">BootMode InitBootCheck()</div><div class="ttdoc">Check Boot Mode (Button Press at Startup).</div><div class="ttdef"><b>Definition</b> <a href="_control_logic_8cpp_source.html#l00904">ControlLogic.cpp:904</a></div></div>
<div class="ttc" id="anamespace_control_logic_html_a1da226a05b7a8c46e16a840900265c03"><div class="ttname"><a href="namespace_control_logic.html#a1da226a05b7a8c46e16a840900265c03">ControlLogic::Init</a></div><div class="ttdeci">void Init()</div><div class="ttdoc">Initialize ControlLogic.</div><div class="ttdef"><b>Definition</b> <a href="_control_logic_8cpp_source.html#l00870">ControlLogic.cpp:870</a></div></div>
<div class="ttc" id="anamespace_control_logic_html_aa23e295fa5022b6569547cf94f091070"><div class="ttname"><a href="namespace_control_logic.html#aa23e295fa5022b6569547cf94f091070">ControlLogic::BootMode</a></div><div class="ttdeci">BootMode</div><div class="ttdef"><b>Definition</b> <a href="_control_logic_8h_source.html#l00014">ControlLogic.h:14</a></div></div>
<div class="ttc" id="anamespace_control_logic_html_aa23e295fa5022b6569547cf94f091070a6de97d301a2cd910140aca79b2b50a55"><div class="ttname"><a href="namespace_control_logic.html#aa23e295fa5022b6569547cf94f091070a6de97d301a2cd910140aca79b2b50a55">ControlLogic::BootMode::Klipper</a></div><div class="ttdeci">@ Klipper</div><div class="ttdef"><b>Definition</b> <a href="_control_logic_8h_source.html#l00016">ControlLogic.h:16</a></div></div>
<div class="ttc" id="anamespace_hardware_html_a25837768e4f1568435bc6d889be37ba5"><div class="ttname"><a href="namespace_hardware.html#a25837768e4f1568435bc6d889be37ba5">Hardware::InitBase</a></div><div class="ttdeci">void InitBase()</div><div class="ttdoc">Initialize minimal Hardware Base.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_8cpp_source.html#l00052">Hardware.cpp:52</a></div></div>
<div class="ttc" id="anamespace_hardware_html_a29ba54eb55c1b296fa35c18043ce9cb5"><div class="ttname"><a href="namespace_hardware.html#a29ba54eb55c1b296fa35c18043ce9cb5">Hardware::InitUART</a></div><div class="ttdeci">void InitUART(bool isKlipper)</div><div class="ttdoc">Initialize UART1 for Bus/Serial communication.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_8cpp_source.html#l00140">Hardware.cpp:140</a></div></div>
<div class="ttc" id="anamespace_hardware_html_a365d946e0cf0fe8cfc8dbcb25cfbdad9"><div class="ttname"><a href="namespace_hardware.html#a365d946e0cf0fe8cfc8dbcb25cfbdad9">Hardware::LED_Show</a></div><div class="ttdeci">void LED_Show()</div><div class="ttdoc">Update LED Hardware.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_8cpp_source.html#l00544">Hardware.cpp:544</a></div></div>
<div class="ttc" id="anamespace_hardware_html_aca1ef8aa807fb9291ad5d727697f427a"><div class="ttname"><a href="namespace_hardware.html#aca1ef8aa807fb9291ad5d727697f427a">Hardware::LED_SetBrightness</a></div><div class="ttdeci">void LED_SetBrightness(uint8_t brightness)</div><div class="ttdoc">Set Global Brightness for LEDs.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_8cpp_source.html#l00555">Hardware.cpp:555</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_command_router_8cpp_source.html#l00076">CommandRouter::Init()</a>, <a class="el" href="_control_logic_8cpp_source.html#l00870">ControlLogic::Init()</a>, <a class="el" href="_hardware_8cpp_source.html#l00052">Hardware::InitBase()</a>, <a class="el" href="_control_logic_8cpp_source.html#l00904">ControlLogic::InitBootCheck()</a>, <a class="el" href="_hardware_8cpp_source.html#l00140">Hardware::InitUART()</a>, <a class="el" href="_control_logic_8h_source.html#l00016">ControlLogic::Klipper</a>, <a class="el" href="_hardware_8cpp_source.html#l00555">Hardware::LED_SetBrightness()</a>, and <a class="el" href="_hardware_8cpp_source.html#l00544">Hardware::LED_Show()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp_a4fc01d736fe50cf5b977f755b675f11d_cgraph.png" border="0" usemap="#amain_8cpp_a4fc01d736fe50cf5b977f755b675f11d_cgraph" loading="lazy" alt=""/></div>
<map name="amain_8cpp_a4fc01d736fe50cf5b977f755b675f11d_cgraph" id="amain_8cpp_a4fc01d736fe50cf5b977f755b675f11d_cgraph">
<area shape="rect" title="Arduino Setup Function." alt="" coords="5,805,59,832"/>
<area shape="rect" href="namespace_command_router.html#a652cfc164ac7a2a2c016da37f341c42e" title="Initialize the Command Router and CLI subsystems." alt="" coords="134,183,280,209"/>
<area shape="poly" title=" " alt="" coords="33,805,56,659,77,554,104,447,149,320,194,221,192,226,154,322,109,449,82,555,61,660,38,805"/>
<area shape="rect" href="namespace_control_logic.html#a1da226a05b7a8c46e16a840900265c03" title="Initialize ControlLogic." alt="" coords="147,460,267,487"/>
<area shape="poly" title=" " alt="" coords="36,804,63,733,104,640,147,562,190,497,187,502,152,565,109,643,68,735,41,806"/>
<area shape="rect" href="namespace_hardware.html#a25837768e4f1568435bc6d889be37ba5" title="Initialize minimal Hardware Base." alt="" coords="140,653,274,680"/>
<area shape="poly" title=" " alt="" coords="47,803,179,688,179,693,51,807"/>
<area shape="rect" href="namespace_hardware.html#a365d946e0cf0fe8cfc8dbcb25cfbdad9" title="Update LED Hardware." alt="" coords="388,805,540,832"/>
<area shape="poly" title=" " alt="" coords="59,816,374,816,373,821,59,821"/>
<area shape="rect" href="namespace_control_logic.html#a0c732b28cf691fb77359c80a0c000665" title="Check Boot Mode (Button Press at Startup)." alt="" coords="114,856,300,883"/>
<area shape="poly" title=" " alt="" coords="59,824,146,849,142,853,59,829"/>
<area shape="rect" href="namespace_hardware.html#a29ba54eb55c1b296fa35c18043ce9cb5" title="Initialize UART1 for Bus/Serial communication." alt="" coords="137,957,276,984"/>
<area shape="poly" title=" " alt="" coords="38,830,63,886,83,917,108,943,126,955,120,955,105,947,78,921,58,889,37,835"/>
<area shape="rect" href="namespace_hardware.html#aca1ef8aa807fb9291ad5d727697f427a" title="Set Global Brightness for LEDs." alt="" coords="107,907,307,933"/>
<area shape="poly" title=" " alt="" coords="43,829,71,862,108,892,120,900,115,901,105,897,67,866,43,835"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a94936a207238747445fb8f43cdd4a2f4" title="Feed a byte into the RX buffer." alt="" coords="391,56,537,83"/>
<area shape="poly" title=" " alt="" coords="222,181,278,137,315,113,354,92,378,85,375,88,356,97,317,117,281,141,226,184"/>
<area shape="rect" href="class_bambu_bus_protocol.html#a8b2a47c616b38cef6c47c1d1b9c92411" title="Get the pointer to the Receive Buffer." alt="" coords="358,107,571,133"/>
<area shape="poly" title=" " alt="" coords="244,180,354,143,386,136,382,139,356,148,247,184"/>
<area shape="rect" href="class_bambu_bus_protocol.html#ae7f742147d3316c118f4230a56a722bd" title="Get the length of the last received packet." alt="" coords="355,157,573,184"/>
<area shape="poly" title=" " alt="" coords="279,187,342,181,338,185,282,191"/>
<area shape="rect" href="class_bambu_bus_protocol.html#a0f26cda5df5c3a8882b7d371d44f6a5e" title="Initialize the static CRC engines." alt="" coords="384,208,544,235"/>
<area shape="poly" title=" " alt="" coords="279,201,371,210,367,214,282,206"/>
<area shape="rect" href="namespace_klipper_c_l_i.html#a5498861593ca8083d7be1d71c8373f29" title="Initialize Klipper CLI." alt="" coords="410,259,518,285"/>
<area shape="poly" title=" " alt="" coords="244,207,356,244,397,256,392,258,354,249,246,212"/>
<area shape="rect" href="class_bambu_bus_protocol.html#af0a63f3d5cca52f48394c7129407e585" title="Parse a single incoming byte into a protocol packet." alt="" coords="363,309,565,336"/>
<area shape="poly" title=" " alt="" coords="223,207,281,251,317,275,356,295,375,303,370,305,354,300,315,279,278,255,224,212"/>
<area shape="rect" href="namespace_hardware.html#a8eaf73ad39643f6bb1bbe74d9b5e8b86" title="Register a callback for UART1 RX." alt="" coords="356,5,572,32"/>
<area shape="poly" title=" " alt="" coords="215,181,268,113,308,75,354,42,369,36,365,40,356,46,311,79,272,117,220,183"/>
<area shape="rect" href="namespace_hardware.html#ad3ec7cad074d6d73508844a06a7bea50" title="Send a buffer via UART1." alt="" coords="641,259,799,285"/>
<area shape="poly" title=" " alt="" coords="518,270,627,271,623,273,520,274"/>
<area shape="rect" href="namespace_hardware.html#a0ada30189b8e1d1dbec145140849b778" title="Microsecond Delay." alt="" coords="1100,265,1238,292"/>
<area shape="poly" title=" " alt="" coords="799,271,1087,276,1082,279,800,276"/>
<area shape="rect" href="namespace_hardware.html#aaaf02ef3df5811e2ba28dd009eadfaae" title="Send a single byte blocking." alt="" coords="867,291,1052,317"/>
<area shape="poly" title=" " alt="" coords="799,280,854,289,849,290,800,285"/>
<area shape="poly" title=" " alt="" coords="1051,290,1087,288,1082,290,1053,295"/>
<area shape="rect" href="_bambu_bus_protocol_8cpp.html#accdac0b68b69d84409a479fc284f0a1b" title=" " alt="" coords="665,309,775,336"/>
<area shape="poly" title=" " alt="" coords="565,320,652,321,647,324,567,325"/>
<area shape="rect" href="namespace_hardware.html#a72bd28689a22ff9e3db6b911c020ecbb" title="Initialize the Analog&#45;to&#45;Digital Converter." alt="" coords="394,435,534,461"/>
<area shape="poly" title=" " alt="" coords="266,465,381,455,377,458,268,470"/>
<area shape="rect" href="namespace_control_logic.html#ae855e1aa5895afa9999a3b9e6874e1e2" title="Load settings from Flash memory." alt="" coords="375,360,553,387"/>
<area shape="poly" title=" " alt="" coords="229,457,285,427,354,396,380,389,376,393,356,401,288,431,233,461"/>
<area shape="rect" href="namespace_hardware.html#a0745af097a6d21fc3fb1f1ebd9e141ff" title="Initialize PWM Timers for Motor Control." alt="" coords="392,485,536,512"/>
<area shape="poly" title=" " alt="" coords="266,477,379,489,375,492,268,482"/>
<area shape="poly" title=" " alt="" coords="421,434,414,426,419,416,436,410,464,408,495,411,512,419,507,421,494,416,464,413,437,415,422,420,419,425,426,434"/>
<area shape="rect" href="namespace_hardware.html#ad269fd29299dd87118b408e4551f4d2d" title="Millisecond Delay." alt="" coords="650,485,790,512"/>
<area shape="poly" title=" " alt="" coords="533,459,638,481,633,483,535,464"/>
<area shape="rect" href="namespace_control_logic.html#afe90d7f284c20f90f74787274f01c51b" title="Flag that settings need to be saved." alt="" coords="621,379,819,405"/>
<area shape="poly" title=" " alt="" coords="553,377,608,383,603,385,555,382"/>
<area shape="rect" href="namespace_hardware.html#a8ea28b07408691bc126683a81aa220f3" title="Get System Time in Milliseconds." alt="" coords="892,379,1027,405"/>
<area shape="poly" title=" " alt="" coords="819,389,879,391,874,393,820,395"/>
<area shape="rect" href="time64_8cpp.html#a146d483f58902ba0184ce16f728edfb0" title="Get 64&#45;bit System Time in Milliseconds." alt="" coords="1126,379,1212,405"/>
<area shape="poly" title=" " alt="" coords="1027,389,1114,391,1108,393,1028,395"/>
<area shape="poly" title=" " alt="" coords="212,652,231,615,262,566,303,514,327,491,354,471,382,459,378,463,356,476,330,495,307,518,266,569,236,618,217,654"/>
<area shape="poly" title=" " alt="" coords="224,651,280,612,316,590,354,572,467,545,637,513,633,516,468,550,356,577,318,595,283,616,227,655"/>
<area shape="poly" title=" " alt="" coords="217,651,272,592,310,558,354,528,386,516,382,519,356,533,314,562,275,596,221,655"/>
<area shape="rect" href="namespace_hardware.html#a87dd189117be2ce6e98135f024fd972c" title="Initialize NeoPixel LEDs." alt="" coords="396,755,532,781"/>
<area shape="poly" title=" " alt="" coords="231,678,287,709,356,740,383,750,378,751,354,745,285,714,231,683"/>
<area shape="rect" href="namespace_hardware.html#a44347f62b4ee1789ecfed67b195572e4" title="Set Color of a specific LED." alt="" coords="380,704,549,731"/>
<area shape="poly" title=" " alt="" coords="273,677,380,699,375,702,274,682"/>
<area shape="poly" title=" " alt="" coords="220,678,276,734,314,765,356,791,376,801,371,802,354,796,311,769,273,738,220,683"/>
<area shape="rect" href="namespace_hardware.html#a8ab0dbadec2826235277f8152a80155d" title="Configure System Clocks and Pin Remapping." alt="" coords="386,653,542,680"/>
<area shape="poly" title=" " alt="" coords="273,664,373,665,369,668,275,669"/>
<area shape="rect" href="namespace_hardware.html#a90a0cffa2efcfb8d76bc12f9734ca623" title="Disable the Window Watchdog." alt="" coords="392,587,536,629"/>
<area shape="poly" title=" " alt="" coords="267,650,379,626,375,629,270,655"/>
<area shape="rect" href="_hardware_8cpp.html#a766f13b53e03456789fd4fe8e009e157" title=" " alt="" coords="680,780,760,807"/>
<area shape="poly" title=" " alt="" coords="532,772,667,787,662,789,533,777"/>
<area shape="poly" title=" " alt="" coords="529,729,574,740,670,774,665,774,573,745,530,734"/>
<area shape="poly" title=" " alt="" coords="540,809,667,798,662,799,541,814"/>
<area shape="poly" title=" " alt="" coords="299,873,377,875,458,872,527,862,553,853,572,842,581,830,589,814,598,772,602,721,602,665,603,554,608,507,619,472,646,438,683,412,679,415,650,441,624,475,613,508,608,554,608,665,607,721,603,773,594,816,586,833,575,846,556,858,529,867,458,878,377,880,300,878"/>
<area shape="rect" href="namespace_control_logic.html#ab1b5b19d84cdbba6ef3ad97fba14ce13" title="Read Analog Sensors and Update State." alt="" coords="382,957,546,1000"/>
<area shape="poly" title=" " alt="" coords="272,881,308,892,365,918,418,949,412,949,363,923,306,897,272,886"/>
<area shape="rect" href="namespace_hardware.html#aa54da804a3d4c6d89ba5d7a2931fc463" title="Get filtered ADC voltage values." alt="" coords="629,965,811,992"/>
<area shape="poly" title=" " alt="" coords="546,976,617,979,612,979,546,981"/>
<area shape="poly" title=" " alt="" coords="307,922,368,920,436,915,505,904,572,885,606,871,638,853,689,818,694,816,641,857,608,876,574,891,506,909,436,920,369,925,308,927"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a href="main_8cpp.html">main.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>

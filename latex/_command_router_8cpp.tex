\doxysection{src/\+Command\+Router.cpp File Reference}
\hypertarget{_command_router_8cpp}{}\label{_command_router_8cpp}\index{src/CommandRouter.cpp@{src/CommandRouter.cpp}}
{\ttfamily \#include "{}Command\+Router.\+h"{}}\newline
{\ttfamily \#include "{}Bambu\+Bus\+Protocol.\+h"{}}\newline
{\ttfamily \#include "{}Klipper\+CLI.\+h"{}}\newline
{\ttfamily \#include "{}Hardware.\+h"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include "{}Control\+Logic.\+h"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
Include dependency graph for Command\+Router.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_command_router_8cpp__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_command_router_1_1_route_entry}{Command\+Router\+::\+Route\+Entry}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespace_command_router}{Command\+Router}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{namespace_command_router_a18c518e4016d268b1b1410b094d83cb1}{Command\+Router\+::\+Packet\+Handler}}) (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, uint16\+\_\+t length)
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespace_command_router_a1d2e53549b25a63274ad073b375e5f21}{Command\+Router\+::\+Handle\+Long\+Packet}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, uint16\+\_\+t length)
\begin{DoxyCompactList}\small\item\em wrapper to handle Long Packets by parsing and dispatching. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_command_router_a652cfc164ac7a2a2c016da37f341c42e}{Command\+Router\+::\+Init}} (bool is\+Klipper)
\begin{DoxyCompactList}\small\item\em Initialize the Command Router and CLI subsystems. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_command_router_a329f0a7e2f53debf5c7cb5f47579151b}{Command\+Router\+::\+Route}} (\mbox{\hyperlink{_command_types_8h_a9fa149d3b881fd0f62738e1de747ea9c}{Unified\+Command\+Type}} type, uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, uint16\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Route an incoming command to its specific handler. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_command_router_a96ff3718682e9322a64815a3d41d001b}{Command\+Router\+::\+Run}} ()
\begin{DoxyCompactList}\small\item\em Main execution loop for the Router. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_command_router_a1cf14aabb538f71f140e6b1aa7ef965d}{Command\+Router\+::\+Send\+Packet}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}data, uint16\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Send a raw data packet via UART. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static uint64\+\_\+t \mbox{\hyperlink{namespace_command_router_a094713e616919d86425f209582f1af2c}{Command\+Router\+::last\+\_\+packet\+\_\+time}} = 0
\item 
static uint8\+\_\+t \mbox{\hyperlink{namespace_command_router_a0c881896984f67f62d7aecd8eaf92aef}{Command\+Router\+::process\+\_\+buffer}} \mbox{[}1024\mbox{]}
\item 
static volatile uint16\+\_\+t \mbox{\hyperlink{namespace_command_router_a3db3bf06c2150bdce40ddb4b50999e41}{Command\+Router\+::process\+\_\+len}} = 0
\item 
static volatile bool \mbox{\hyperlink{namespace_command_router_a6c1a63e82474f28710cde5df81d42aba}{Command\+Router\+::process\+\_\+ready}} = false
\item 
static const \mbox{\hyperlink{struct_command_router_1_1_route_entry}{Route\+Entry}} \mbox{\hyperlink{namespace_command_router_a8b873c3755f64e992caa60685b79ec45}{Command\+Router\+::route\+Table}} \mbox{[}$\,$\mbox{]}
\item 
static const int \mbox{\hyperlink{namespace_command_router_af0e503624af5471ef481ef04f3ce4bac}{Command\+Router\+::route\+Table\+Size}} = sizeof(\mbox{\hyperlink{namespace_command_router_a8b873c3755f64e992caa60685b79ec45}{route\+Table}}) / sizeof(\mbox{\hyperlink{struct_command_router_1_1_route_entry}{Route\+Entry}})
\end{DoxyCompactItemize}

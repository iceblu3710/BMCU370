\doxysection{src/\+Control\+Logic.h File Reference}
\hypertarget{_control_logic_8h}{}\label{_control_logic_8h}\index{src/ControlLogic.h@{src/ControlLogic.h}}
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include "{}Bambu\+Bus\+Protocol.\+h"{}}\newline
{\ttfamily \#include "{}Unit\+State.\+h"{}}\newline
Include dependency graph for Control\+Logic.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{_control_logic_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_control_logic_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespace_control_logic}{Control\+Logic}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{namespace_control_logic_aa23e295fa5022b6569547cf94f091070}{Control\+Logic\+::\+Boot\+Mode}} \+: uint32\+\_\+t \{ \mbox{\hyperlink{namespace_control_logic_aa23e295fa5022b6569547cf94f091070aa215a57b244f3b893020269133af794a}{Control\+Logic\+::\+Bambu\+Bus}} = 0
, \mbox{\hyperlink{namespace_control_logic_aa23e295fa5022b6569547cf94f091070a6de97d301a2cd910140aca79b2b50a55}{Control\+Logic\+::\+Klipper}} = 1
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespace_control_logic_a1da226a05b7a8c46e16a840900265c03}{Control\+Logic\+::\+Init}} ()
\begin{DoxyCompactList}\small\item\em Initialize \doxylink{namespace_control_logic}{Control\+Logic}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_control_logic_aa23e295fa5022b6569547cf94f091070}{Boot\+Mode}} \mbox{\hyperlink{namespace_control_logic_a0c732b28cf691fb77359c80a0c000665}{Control\+Logic\+::\+Init\+Boot\+Check}} ()
\begin{DoxyCompactList}\small\item\em Check Boot Mode (Button Press at Startup). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_adc8c269923e0c76c6d104a005833a7f9}{Control\+Logic\+::\+Run}} ()
\begin{DoxyCompactList}\small\item\em Main Control Loop. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a9716be5fe9da72481bee41a80681d8e5}{Control\+Logic\+::\+Update\+Connectivity}} (bool online)
\begin{DoxyCompactList}\small\item\em Update connectivity status (Online/\+Offline). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a8880b393facb6828519b8dac8e96393c}{Control\+Logic\+::\+Process\+Motion\+Short\+Logic}} (uint8\+\_\+t ams\+\_\+num, uint8\+\_\+t statu\+\_\+flags, uint8\+\_\+t read\+\_\+num, uint8\+\_\+t fliment\+\_\+motion\+\_\+flag)
\begin{DoxyCompactList}\small\item\em Core logic for processing Short Motion packets. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_aa490d28f0823086ff5e1e97451425dc7}{Control\+Logic\+::\+Process\+Motion\+Long\+Logic}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}payload, uint16\+\_\+t length)
\item 
void \mbox{\hyperlink{namespace_control_logic_a3aed4ef4cb26632467a000c0130b11b4}{Control\+Logic\+::\+Set\+Filament\+Info\+Action}} (int id, const \mbox{\hyperlink{struct_filament_info}{Filament\+Info}} \&info, float meters)
\begin{DoxyCompactList}\small\item\em Action helper to update filament metadata. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a5f85db884abd1a66d8b120729ec0d99e}{Control\+Logic\+::\+Process\+Motion\+Short}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, uint16\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Handler for Filament Motion Short packet (0x03). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a2ab840bfd454a7709553b89529285b74}{Control\+Logic\+::\+Process\+Motion\+Long}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, uint16\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Handler for Filament Motion Long packet (0x04). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a412a7a597ff3c04c0ea1480094600ef4}{Control\+Logic\+::\+Process\+Online\+Detect}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, uint16\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Handler for Online Detect (0x05). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a82b9a1fb120cd91615d2ac478daafefd}{Control\+Logic\+::\+Process\+REQx6}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, uint16\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Handler for REQx6 (0x06). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_ada1dd6f18fca06d8b26836f4788ab0ad}{Control\+Logic\+::\+Process\+Set\+Filament\+Info}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, uint16\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Handler for Set Filament Info (0x08 -\/ Short). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a0c4206af909c8128bc68eb6a1bcfa16e}{Control\+Logic\+::\+Process\+Heartbeat}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}buffer, uint16\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Handler for Heartbeat (0x20). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a1ff0bcee8062346fb963e4dd845c8bdf}{Control\+Logic\+::\+Process\+Long\+Packet}} (struct \mbox{\hyperlink{structlong__packge__data}{long\+\_\+packge\+\_\+data}} \&data)
\begin{DoxyCompactList}\small\item\em Handler/\+Dispatcher for Long Packets. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_adb4ce7f82b449d6d6d97e7399ce391f5}{Control\+Logic\+::\+Start\+Load\+Filament}} (int tray, int length\+\_\+mm)
\begin{DoxyCompactList}\small\item\em Initiate a Filament Load sequence for a specific tray. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_abcc93276e326829eec4d37024c647745}{Control\+Logic\+::\+Start\+Unload\+Filament}} (int tray, int length\+\_\+mm)
\begin{DoxyCompactList}\small\item\em Initiate a Filament Unload sequence for a specific tray. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{namespace_control_logic_acca64947bdc9cfb88ea5091014c68b75}{Control\+Logic\+::\+Get\+Device\+Type}} ()
\begin{DoxyCompactList}\small\item\em Get the configured device type. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_control_logic_aa23e295fa5022b6569547cf94f091070}{Boot\+Mode}} \mbox{\hyperlink{namespace_control_logic_a300e5b18ebf53c086955bf02dfe16faa}{Control\+Logic\+::\+Get\+Boot\+Mode}} ()
\begin{DoxyCompactList}\small\item\em Get current Boot Mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a484eadc314267f8bc9aa0f025c1137d9}{Control\+Logic\+::\+Move\+Axis}} (int axis, float dist\+\_\+mm, float speed)
\begin{DoxyCompactList}\small\item\em Manually move an axis (Klipper Primitive). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_af084200798d6b89c1b448bf41b105d62}{Control\+Logic\+::\+Stop\+All}} ()
\begin{DoxyCompactList}\small\item\em Stop all motors. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{namespace_control_logic_a4428a845041ff986ccbf2555a62d0656}{Control\+Logic\+::\+Get\+Sensor\+State}} ()
\begin{DoxyCompactList}\small\item\em Get a bitmask of sensor states. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{namespace_control_logic_a77da31cf0baa8e886a438b2a9e73a573}{Control\+Logic\+::\+Get\+Lane\+Motion}} (int lane)
\begin{DoxyCompactList}\small\item\em Get the current motion state of a lane. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a9db355302a1c9d608e6dd5341151336e}{Control\+Logic\+::\+Set\+Auto\+Feed}} (int lane, bool enable)
\begin{DoxyCompactList}\small\item\em Enable/\+Disable Auto-\/\+Feed (Pressure Control) for a lane. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_a175e5057d122e1fee05a99bb0e40bbf3}{Control\+Logic\+::\+Save\+Settings}} ()
\begin{DoxyCompactList}\small\item\em Commit settings to Flash memory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespace_control_logic_afe90d7f284c20f90f74787274f01c51b}{Control\+Logic\+::\+Set\+Need\+To\+Save}} ()
\begin{DoxyCompactList}\small\item\em Flag that settings need to be saved. \end{DoxyCompactList}\end{DoxyCompactItemize}
